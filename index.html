<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Health Solutions Hub – Your Health Snapshot</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

  <!-- Font Awesome -->
  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>

  <style>
    :root {
      --green-main: #9fe3b2;
      --green-soft: #eafaf0;
      --green-accent: #6fcf97;
      --text-dark: #1f2933;
    }

    body {
      font-family: "Inter", "Segoe UI", Roboto, Arial, sans-serif;
      background-color: var(--green-soft);
      color: var(--text-dark);
      padding-top: 70px;
    }

    .navbar {
      background-color: #ffffff;
      box-shadow: 0 2px 10px rgba(0,0,0,0.04);
    }

    .navbar-brand img {
      height: 100px;
      width: auto;
    }

    .navbar a.nav-link {
      color: var(--text-dark);
      font-weight: 500;
      margin-left: 1rem;
    }

    .navbar a.nav-link:hover {
      color: var(--green-accent);
    }

    .main-content {
      min-height: 70vh;
      padding: 80px 20px;
      text-align: center;
    }

    .main-content h1 {
      font-size: 2.5rem;
      font-weight: 600;
      margin-bottom: 25px;
    }

    .main-content p {
      font-size: 1.1rem;
      line-height: 1.7;
      max-width: 700px;
      margin: 0 auto 20px;
      opacity: 0.9;
    }

    main.form-container {
      max-width: 800px;
      margin: 30px auto;
      background: #fff;
      padding: 30px;
      border-radius: 8px;
    }

    .field {
      margin-bottom: 16px;
      text-align: left;
    }

    label {
      display: block;
      font-weight: bold;
      margin-bottom: 6px;
    }

    input, select {
      width: 100%;
      padding: 8px;
      font-size: 14px;
    }

    input[type="radio"] {
      width: auto;
      margin-right: 6px;
    }

    .form-buttons {
      margin-top: 30px;
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .form-buttons button {
      flex: 1;
      min-width: 150px;
      padding: 12px;
      font-size: 16px;
      border: none;
      border-radius: 50px;
      background-color: var(--green-accent);
      color: #fff;
      cursor: pointer;
    }

    .form-buttons button:hover { background-color: #5fbf86; }

    footer {
      background-color: #ffffff;
      padding: 35px 0;
      text-align: center;
      border-top: 1px solid rgba(0,0,0,0.05);
      margin-top: 50px;
    }

    footer a {
      color: var(--text-dark);
      margin: 0 12px;
      font-size: 0.95rem;
    }

    footer a:hover {
      color: var(--green-accent);
    }

    .social-icons {
      margin-bottom: 10px;
    }

    .social-icons i {
      font-size: 1.4rem;
      margin: 0 12px;
      color: var(--green-accent);
    }

    .social-icons i:hover {
      opacity: 0.7;
    }
  </style>
</head>

<body>

<!-- HEADER -->
<nav class="navbar navbar-expand-lg navbar-light fixed-top">
  <div class="container">
    <a class="navbar-brand" href="index.html">
      <img src="assets/images/YourHealthSnapshot_logo.svg" alt="Health Solutions Hub">
    </a>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" href="about.html">About</a></li>
        <li class="nav-item"><a class="nav-link" href="contact.html">Contact & Support</a></li>
      </ul>
    </div>
  </div>
</nav>

<!-- MAIN CONTENT -->
<section class="main-content">
  <div class="container">
    <h1>Welcome to <strong>Your Health Snapshot</strong></h1>
    <p>
      Take this quick health assessment to discover your key health indicators and get personalized insights.
      Start with simple calculations like BMI, and explore more detailed results with the premium option.
      Learn more about the evidence and statistics behind this assessment on our <a href="about.html">About</a>page.
      This assessment does not replace medical consultation, but helps you find qualified specialists associated
      with recognized medical societies in your country. Your answers are private and secure.
    </p>
  </div>
</section>

<!-- FORMULÄR -->
<main class="form-container">
  <form id="health-form">
    <div class="field">
      <label for="country">Country</label>
      <input type="text" id="country" required />
    </div>

    <div class="field">
      <label for="age_group">Age Group</label>
      <select id="age_group" required>
        <option value="">Bitte wählen</option>
        <option>18-24</option>
        <option>25-34</option>
        <option>35-44</option>
        <option>45-54</option>
        <option>55+</option>
      </select>
    </div>

    <div class="field">
      <label for="sex">Sex</label>
      <select id="sex" required>
        <option value="">Bitte wählen</option>
        <option value="M">Male</option>
        <option value="F">Female</option>
      </select>
    </div>

    <div class="field">
      <label for="height">Height (cm)</label>
      <input type="number" id="height" required />
    </div>

    <div class="field">
      <label for="weight">Weight (kg)</label>
      <input type="number" id="weight" required />
    </div>

    <!-- Smoking -->
    <div class="field">
      <label>Smoking</label>
      <label><input type="radio" name="smoking" value="0" required /> No</label>
      <label><input type="radio" name="smoking" value="1" required /> Yes</label>
    </div>

    <!-- Alcohol per day (WHO standard) -->
    <div class="field">
      <label>Do you currently consume alcohol? (WHO: current drinker)</label>
      <label><input type="radio" name="alcohol" value="0" required /> No</label>
      <label><input type="radio" name="alcohol" value="1" required /> Yes</label>
    </div>

    <div class="field">
      <label>If yes, how many standard drinks per day? (1 standard drink ≈ 10–12g pure alcohol)</label>
      <input type="number" name="alcohol_per_day" min="0" step="0.1" placeholder="Drinks/day" />
    </div>

    <!-- Physical Activity -->
    <div class="field">
      <label>Physical Activity (hours/week)</label>
      <label><input type="radio" name="activity" value="0-2" required /> 0–2 h</label>
      <label><input type="radio" name="activity" value="3-5" required /> 3–5 h</label>
      <label><input type="radio" name="activity" value="6+" required /> 6+ h</label>
    </div>

    <div class="field">
      <label for="life_expectancy">Healthy Life Expectancy (years)</label>
      <input type="number" id="life_expectancy" required />
    </div>

    <div class="form-buttons">
      <button type="button" id="testReportBtn">Test Report</button>
      <button type="button" id="fullReportBtn">Full Report</button>
      <button type="button" id="fillAgainBtn">Fill out again</button>
    </div>
  </form>
</main>

<!-- FOOTER -->
<footer>
  <div class="social-icons">
    <a href="#"><i class="fab fa-linkedin"></i></a>
    <a href="#"><i class="fab fa-twitter"></i></a>
    <a href="#"><i class="fab fa-instagram"></i></a>
    <a href="#"><i class="fab fa-telegram"></i></a>
  </div>

  <div>
    <a href="termslegal.html">Terms & Legal</a>
  </div>

  <div class="mt-2">
    © 2006 Health Solutions Hub. All rights reserved.
  </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<script>
  // Eindeutige ID generieren
  function generateId() { return 'id-' + Math.random().toString(36).substr(2, 9); }

  // Formulardaten abrufen
  function getFormData() {
    const smoking = document.querySelector('input[name="smoking"]:checked')?.value;
    const alcohol = document.querySelector('input[name="alcohol"]:checked')?.value;
    const alcohol_per_day = document.querySelector('input[name="alcohol_per_day"]').value || 0;
    const activity = document.querySelector('input[name="activity"]:checked')?.value;

    return {
      id: localStorage.getItem('formId') || generateId(),
      Country: document.getElementById('country').value,
      Age_group: document.getElementById('age_group').value,
      Sex: document.getElementById('sex').value,
      Height_cm: Number(document.getElementById('height').value),
      Weight_kg: Number(document.getElementById('weight').value),
      Smoking: smoking,
      Alcohol: alcohol,
      Alcohol_per_day: Number(alcohol_per_day),
      Physical_Activity: activity,
      Healthy_Life_Expectancy: Number(document.getElementById('life_expectancy').value)
    };
  }

  // Daten lokal speichern
  function saveFormDataLocally(data) {
    localStorage.setItem('formData', JSON.stringify(data));
    localStorage.setItem('formId', data.id);
  }

  // Vorbefüllung beim Laden
  window.addEventListener('load', () => {
    const saved = JSON.parse(localStorage.getItem('formData'));
    if (saved) {
      document.getElementById('country').value = saved.Country;
      document.getElementById('age_group').value = saved.Age_group;
      document.getElementById('sex').value = saved.Sex;
      document.getElementById('height').value = saved.Height_cm;
      document.getElementById('weight').value = saved.Weight_kg;
      document.getElementById('life_expectancy').value = saved.Healthy_Life_Expectancy;

      if(saved.Smoking !== undefined) document.querySelector(`input[name="smoking"][value="${saved.Smoking}"]`)?.checked = true;
      if(saved.Alcohol !== undefined) document.querySelector(`input[name="alcohol"][value="${saved.Alcohol}"]`)?.checked = true;
      document.querySelector('input[name="alcohol_per_day"]').value = saved.Alcohol_per_day || '';
      if(saved.Physical_Activity !== undefined) document.querySelector(`input[name="activity"][value="${saved.Physical_Activity}"]`)?.checked = true;
    }
  });

  // Button Events
  document.getElementById('fullReportBtn').addEventListener('click', () => {
    const data = getFormData();
    saveFormDataLocally(data);
    window.location.href = '/payment.html?id=' + data.id; // Full Report → Payment
  });

  document.getElementById('testReportBtn').addEventListener('click', () => {
    const data = getFormData();
    saveFormDataLocally(data);
    window.location.href = '/test-report.html'; // Test Report lokal
  });

  document.getElementById('fillAgainBtn').addEventListener('click', () => {
    localStorage.removeItem('formData');
    localStorage.removeItem('formId');
    document.getElementById('health-form').reset();
  });
</script>
</body>
</html>